- 初始化单机架构：应用与数据一体模式

![大型架构演变-01](./assets/大型架构演变-01.png)

- 第⼀次演进：应用与数据分离模式

![大型架构演变-02](./assets/大型架构演变-02.png)

- 第⼆次演进：缓存与性能的提升
  - 客户端浏览器缓存
  - 应用服务器本地缓存
  - 分布式缓存


![大型架构演变-03](./assets/大型架构演变-03.png)

- 第三次演进：服务器集群处理并发

  Nginx并发⽀持5w，keepalive 65s，Tomcat的并发建议配置1000-2000

  session共享问题：中⼼化

![大型架构演变-04](./assets/大型架构演变-04.png)


- 第四次演进：数据库读写分离
  - 主从复制：主库（master）主要用来写入数据，然后通过同步binlog 的方式，将更新的数据同步到从库（slave）中。
  - 数据同步技术：
    - 同步复制
    - 异步复制
    - 半同步复制


![大型架构演变-05](./assets/大型架构演变-05.png)



- 第五次演进：数据库按业务分库

![大型架构演变-06](./assets/大型架构演变-06.png)

- 第六次演进：把⼤表拆分为⼩表

![大型架构演变-07](./assets/大型架构演变-07.png)

- 第七次演进：使⽤LVS或F5来使多个Nginx负载均衡

![大型架构演变-08](./assets/大型架构演变-08.png)

Nginx：7层

Lvs：4层



- 第⼋次演进：通过DNS轮询实现机房间的负载均衡

![大型架构演变-09](./assets/大型架构演变-09.png)

DNS不会帮你做服务的验证，DNS要做多级的缓存加⼊或去掉IP的时间都会很⻓



- 第九次演进：引⼊NoSQL数据库和搜索引擎等技术

![大型架构演变-10](./assets/大型架构演变-10.png)

like 'abc%def'，提前放⼊到ES、Solr，Redis会出现雪崩：击穿、服务挂掉



- 第⼗次演进：⼤应⽤拆分为⼩应⽤

![大型架构演变-11](./assets/大型架构演变-11.png)

- 第⼗⼀次演进：复⽤的功能抽离成微服务

![大型架构演变-12](./assets/大型架构演变-12.png)

- 第⼗⼆次演进：引⼊企业服务总线ESB屏蔽服务接⼝的访问差异

![大型架构演变-13](./assets/大型架构演变-13.png)

- 第⼗三次演进：引⼊容器化技术实现运⾏环境隔离与动态服务管理

![大型架构演变-14](./assets/大型架构演变-14.png)

- 第⼗四次演进：以云平台承载系统

![大型架构演变-15](./assets/大型架构演变-15.png)